============ initial bytecode ================

[variant baseline]
fun m::foo(): u64 {
     var $t0: u64
     var $t1: vector<u64>
     var $t2: vector<u64>
     var $t3: u64
     var $t4: u64
     var $t5: u64
     var $t6: &mut vector<u64>
     var $t7: &mut vector<u64>
     var $t8: u64
     var $t9: u64
     var $t10: u64
     var $t11: u64
     var $t12: u64
     var $t13: &vector<u64>
     var $t14: bool
     var $t15: bool
     var $t16: bool
     var $t17: &u64
     var $t18: &u64
     var $t19: &vector<u64>
     var $t20: u64
     var $t21: u64
     var $t22: u64
     var $t23: u64
     var $t24: u64
     var $t25: u64
     var $t26: u64
     var $t27: bool
     var $t28: bool
     var $t29: &u64
     var $t30: &u64
     var $t31: &vector<u64>
     var $t32: u64
     var $t33: u64
     var $t34: u64
     var $t35: u64
     var $t36: u64
     var $t37: u64
     var $t38: &u64
     var $t39: &vector<u64>
     var $t40: u64
  0: $t3 := 1
  1: $t4 := 2
  2: $t5 := 3
  3: $t2 := vector($t3, $t4, $t5)
  4: $t1 := infer($t2)
  5: $t7 := borrow_local($t1)
  6: $t6 := infer($t7)
  7: $t10 := 0
  8: $t9 := infer($t10)
  9: $t13 := freeze_ref($t6)
 10: $t12 := vector::length<u64>($t13)
 11: $t11 := infer($t12)
 12: label L0
 13: $t14 := <($t9, $t11)
 14: if ($t14) goto 15 else goto 33
 15: label L2
 16: $t19 := freeze_ref($t6)
 17: $t18 := vector::borrow<u64>($t19, $t9)
 18: $t17 := infer($t18)
 19: $t20 := read_ref($t17)
 20: $t21 := 1
 21: $t16 := >($t20, $t21)
 22: $t15 := !($t16)
 23: if ($t15) goto 24 else goto 27
 24: label L5
 25: goto 37
 26: goto 28
 27: label L6
 28: label L7
 29: $t23 := 1
 30: $t22 := +($t9, $t23)
 31: $t9 := infer($t22)
 32: goto 35
 33: label L3
 34: goto 37
 35: label L4
 36: goto 12
 37: label L1
 38: $t24 := infer($t9)
 39: $t26 := 1
 40: $t25 := +($t9, $t26)
 41: $t9 := infer($t25)
 42: label L8
 43: $t27 := <($t9, $t11)
 44: if ($t27) goto 45 else goto 65
 45: label L10
 46: $t31 := freeze_ref($t6)
 47: $t30 := vector::borrow<u64>($t31, $t9)
 48: $t29 := infer($t30)
 49: $t32 := read_ref($t29)
 50: $t33 := 1
 51: $t28 := >($t32, $t33)
 52: if ($t28) goto 53 else goto 59
 53: label L13
 54: vector::swap<u64>($t6, $t24, $t9)
 55: $t35 := 1
 56: $t34 := +($t24, $t35)
 57: $t24 := infer($t34)
 58: goto 60
 59: label L14
 60: label L15
 61: $t37 := 1
 62: $t36 := +($t9, $t37)
 63: $t9 := infer($t36)
 64: goto 67
 65: label L11
 66: goto 69
 67: label L12
 68: goto 42
 69: label L9
 70: $t8 := infer($t24)
 71: $t39 := freeze_ref($t6)
 72: $t40 := 0
 73: $t38 := vector::borrow<u64>($t39, $t40)
 74: $t0 := read_ref($t38)
 75: return $t0
}

============ after LiveVarAnalysisProcessor: ================

[variant baseline]
fun m::foo(): u64 {
     var $t0: u64
     var $t1: vector<u64>
     var $t2: vector<u64>
     var $t3: u64
     var $t4: u64
     var $t5: u64
     var $t6: &mut vector<u64>
     var $t7: &mut vector<u64>
     var $t8: u64
     var $t9: u64
     var $t10: u64
     var $t11: u64
     var $t12: u64
     var $t13: &vector<u64>
     var $t14: bool
     var $t15: bool
     var $t16: bool
     var $t17: &u64
     var $t18: &u64
     var $t19: &vector<u64>
     var $t20: u64
     var $t21: u64
     var $t22: u64
     var $t23: u64
     var $t24: u64
     var $t25: u64
     var $t26: u64
     var $t27: bool
     var $t28: bool
     var $t29: &u64
     var $t30: &u64
     var $t31: &vector<u64>
     var $t32: u64
     var $t33: u64
     var $t34: u64
     var $t35: u64
     var $t36: u64
     var $t37: u64
     var $t38: &u64
     var $t39: &vector<u64>
     var $t40: u64
     var $t41: &mut vector<u64>
     var $t42: &mut vector<u64>
     var $t43: &mut vector<u64>
     var $t44: &mut vector<u64>
     # live vars:
  0: $t3 := 1
     # live vars: $t3
  1: $t4 := 2
     # live vars: $t3, $t4
  2: $t5 := 3
     # live vars: $t3, $t4, $t5
  3: $t2 := vector($t3, $t4, $t5)
     # live vars: $t2
  4: $t1 := copy($t2)
     # live vars: $t1
  5: $t7 := borrow_local($t1)
     # live vars: $t7
  6: $t6 := move($t7)
     # live vars: $t6
  7: $t10 := 0
     # live vars: $t6, $t10
  8: $t9 := copy($t10)
     # live vars: $t6, $t9
  9: $t41 := copy($t6)
     # live vars: $t6, $t9, $t41
 10: $t13 := freeze_ref($t41)
     # live vars: $t6, $t9, $t13
 11: $t12 := vector::length<u64>($t13)
     # live vars: $t6, $t9, $t12
 12: $t11 := copy($t12)
     # live vars: $t6, $t9, $t11
 13: label L0
     # live vars: $t6, $t9, $t11
 14: $t14 := <($t9, $t11)
     # live vars: $t6, $t9, $t11, $t14
 15: if ($t14) goto 16 else goto 35
     # live vars: $t6, $t9, $t11
 16: label L2
     # live vars: $t6, $t9, $t11
 17: $t42 := copy($t6)
     # live vars: $t6, $t9, $t11, $t42
 18: $t19 := freeze_ref($t42)
     # live vars: $t6, $t9, $t11, $t19
 19: $t18 := vector::borrow<u64>($t19, $t9)
     # live vars: $t6, $t9, $t11, $t18
 20: $t17 := move($t18)
     # live vars: $t6, $t9, $t11, $t17
 21: $t20 := read_ref($t17)
     # live vars: $t6, $t9, $t11, $t20
 22: $t21 := 1
     # live vars: $t6, $t9, $t11, $t20, $t21
 23: $t16 := >($t20, $t21)
     # live vars: $t6, $t9, $t11, $t16
 24: $t15 := !($t16)
     # live vars: $t6, $t9, $t11, $t15
 25: if ($t15) goto 26 else goto 29
     # live vars: $t6, $t9, $t11
 26: label L5
     # live vars: $t6, $t9, $t11
 27: goto 39
     # live vars: $t6, $t9, $t11
 28: goto 30
     # live vars: $t6, $t9, $t11
 29: label L6
     # live vars: $t6, $t9, $t11
 30: label L7
     # live vars: $t6, $t9, $t11
 31: $t23 := 1
     # live vars: $t6, $t9, $t11, $t23
 32: $t22 := +($t9, $t23)
     # live vars: $t6, $t11, $t22
 33: $t9 := copy($t22)
     # live vars: $t6, $t9, $t11
 34: goto 37
     # live vars: $t6, $t9, $t11
 35: label L3
     # live vars: $t6, $t9, $t11
 36: goto 39
     # live vars: $t6, $t9, $t11
 37: label L4
     # live vars: $t6, $t9, $t11
 38: goto 13
     # live vars: $t6, $t9, $t11
 39: label L1
     # live vars: $t6, $t9, $t11
 40: $t24 := copy($t9)
     # live vars: $t6, $t9, $t11, $t24
 41: $t26 := 1
     # live vars: $t6, $t9, $t11, $t24, $t26
 42: $t25 := +($t9, $t26)
     # live vars: $t6, $t11, $t24, $t25
 43: $t9 := copy($t25)
     # live vars: $t6, $t9, $t11, $t24
 44: label L8
     # live vars: $t6, $t9, $t11, $t24
 45: $t27 := <($t9, $t11)
     # live vars: $t6, $t9, $t11, $t24, $t27
 46: if ($t27) goto 47 else goto 69
     # live vars: $t6, $t9, $t11, $t24
 47: label L10
     # live vars: $t6, $t9, $t11, $t24
 48: $t43 := copy($t6)
     # live vars: $t6, $t9, $t11, $t24, $t43
 49: $t31 := freeze_ref($t43)
     # live vars: $t6, $t9, $t11, $t24, $t31
 50: $t30 := vector::borrow<u64>($t31, $t9)
     # live vars: $t6, $t9, $t11, $t24, $t30
 51: $t29 := move($t30)
     # live vars: $t6, $t9, $t11, $t24, $t29
 52: $t32 := read_ref($t29)
     # live vars: $t6, $t9, $t11, $t24, $t32
 53: $t33 := 1
     # live vars: $t6, $t9, $t11, $t24, $t32, $t33
 54: $t28 := >($t32, $t33)
     # live vars: $t6, $t9, $t11, $t24, $t28
 55: if ($t28) goto 56 else goto 63
     # live vars: $t6, $t9, $t11, $t24
 56: label L13
     # live vars: $t6, $t9, $t11, $t24
 57: $t44 := copy($t6)
     # live vars: $t6, $t9, $t11, $t24, $t44
 58: vector::swap<u64>($t44, $t24, $t9)
     # live vars: $t6, $t9, $t11, $t24
 59: $t35 := 1
     # live vars: $t6, $t9, $t11, $t24, $t35
 60: $t34 := +($t24, $t35)
     # live vars: $t6, $t9, $t11, $t34
 61: $t24 := copy($t34)
     # live vars: $t6, $t9, $t11, $t24
 62: goto 64
     # live vars: $t6, $t9, $t11, $t24
 63: label L14
     # live vars: $t6, $t9, $t11, $t24
 64: label L15
     # live vars: $t6, $t9, $t11, $t24
 65: $t37 := 1
     # live vars: $t6, $t9, $t11, $t24, $t37
 66: $t36 := +($t9, $t37)
     # live vars: $t6, $t11, $t24, $t36
 67: $t9 := copy($t36)
     # live vars: $t6, $t9, $t11, $t24
 68: goto 71
     # live vars: $t6, $t24
 69: label L11
     # live vars: $t6, $t24
 70: goto 73
     # live vars: $t6, $t9, $t11, $t24
 71: label L12
     # live vars: $t6, $t9, $t11, $t24
 72: goto 44
     # live vars: $t6, $t24
 73: label L9
     # live vars: $t6, $t24
 74: $t8 := copy($t24)
     # live vars: $t6
 75: $t39 := freeze_ref($t6)
     # live vars: $t39
 76: $t40 := 0
     # live vars: $t39, $t40
 77: $t38 := vector::borrow<u64>($t39, $t40)
     # live vars: $t38
 78: $t0 := read_ref($t38)
     # live vars: $t0
 79: return $t0
}
